<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="{{ url_for('static', filename='icon.png') }}" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperNova - V1.1</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            background-color: black; /* Terminal black background */
            color: #00076f; /* Terminal green text color */
            font-family: 'Courier New', Courier, monospace; /* Monospace font for terminal feel */
            padding: 20px;
        }

        /* Glow effect for all text */
        h1, h2, p {
            text-shadow: 0 0 10px #87CEEB, 0 0 20px #87CEEB, 0 0 30px #00076f; /* Bright  glow */
        }

        input, button {
            background-color: black; /* Input and button background */
            color: #87CEEB; /* Input and button text color */
            border: 1px solid #87CEEB; /* Border color */
            padding: 5px;
            font-family: 'Courier New', Courier, monospace; /* Same font */
        }

        input:focus, button:focus {
            outline: none; /* Remove focus outline */
        }

        #output {
            background-color: black; /* Output area background */
            color: #87CEEB; /* Output text color */
            border: 1px solid #87CEEB; /* Border color */
            padding: 10px;
            white-space: pre-wrap; /* Preserve whitespace */
            max-height: 300px; /* Limit height */
            overflow-y: auto; /* Enable vertical scrolling */
        }

        h1, h2 {
            color: #87CEEB; /* Heading color */
        }

        button {
            cursor: pointer; /* Change cursor on hover */
        }
    </style>
</head>

<body>
    <h1>SuperNova - V1.1</h1>
    <a href="https://github.com/ArcticHonour/SuperNova" style="color: grey;">https://github.com/ArcticHonour/SuperNova </a>
    <h2>URL<h2>
    <img rel="image" src="{{ url_for('static', filename='icon.png') }}" style="width: 100px; height: 100px; position: absolute; top: 10px; right: 10px;">
    <input type="text" id="ngrok-input" placeholder="Enter ngrok URLs separated by commas">
    <button id="set-ngrok">Set URLs</button>

    <h2>Send Command</h2>
    <input type="text" id="command-input" placeholder="Enter command">
    <button id="send-command">Send Command</button>

    <h2>Output</h2>
    <div id="output"></div>

    <script>
        $(document).ready(function() {
            // Function to handle ngrok URL setting
            function setNgrok() {
                const urls = $('#ngrok-input').val();
                $.post('/set_ngrok', { ngrok_urls: urls }, function(data) {
                    $('#output').append(data.message + "\n");
                    $('#output').scrollTop($('#output')[0].scrollHeight); // Auto scroll to bottom
                });
            }

            // Function to handle command sending
            function sendCommand() {
                const command = $('#command-input').val();
                $.post('/send_command', { command: command }, function(data) {
                    $('#output').append(data.results.join("\n") + "\n");
                    $('#output').scrollTop($('#output')[0].scrollHeight); // Auto scroll to bottom
                });
                $('#command-input').val(''); // Clear the command input field
            }

            // Click event for Set URLs button
            $('#set-ngrok').click(setNgrok);

            // Click event for Send Command button
            $('#send-command').click(sendCommand);

            // Keydown event for ngrok input
            $('#ngrok-input').keydown(function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault(); // Prevent form submission
                    setNgrok(); // Call the setNgrok function
                }
            });

            // Keydown event for command input
            $('#command-input').keydown(function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault(); // Prevent form submission
                    sendCommand(); // Call the sendCommand function
                }
            });
        });
    </script>
</body>
</html>
